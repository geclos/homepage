---
import BaseLayout from './BaseLayout.astro';
import { formatDate } from '../utils/formatDate';

const {
  title,
  description,
  date,
  tags = [],
  heroImage
} = Astro.props;
---

<BaseLayout title={title} description={description ?? 'Blog post by Gerard Clos.'}>
  <article class="space-y-10">
    <header class="space-y-6">
      <div class="eyebrow">{formatDate(date)}</div>
      <h1 class="font-serif text-4xl leading-tight md:text-5xl">{title}</h1>
      {description && (
        <p class="max-w-2xl text-lg text-muted">
          {description}
        </p>
      )}
      {tags.length > 0 && (
        <ul class="flex flex-wrap gap-2 text-xs uppercase tracking-[0.18em] text-muted">
          {tags.map((tag) => (
            <li class="border border-line px-2 py-1">{tag}</li>
          ))}
        </ul>
      )}
      {heroImage && (
        <div class="surface overflow-hidden">
          <img src={heroImage} alt={title} class="h-auto w-full" loading="eager" />
        </div>
      )}
    </header>

    <div class="prose prose-lg">
      <slot />
    </div>
  </article>
</BaseLayout>
